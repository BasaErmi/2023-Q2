## 实验过程

### 1、基于Matlab通信工具箱构建通信系统（有线/无线）连接A与B

初始化MATLAB环境，设置发送和接收的基本通信模型的参数：

```matlab
A = 1;                  % 载波幅度
fc = 3;                 % 载波频率
Nsam = 60;              % 每个码元的采样点数, 即采样频率fs
fs  = Nsam;
L_Dseq = 7;             % 码元数目, 数值长度
T = 1;                  % 码元宽度
dt = T / Nsam;          % 波形采样间隔
t = 0:dt:L_Dseq*T-dt;   % 波形采样时间点，0开始，以dt为步长
Lt = length(t);         % 波形采样点数
ct = A * sin(2 * pi * fc * t);  % 载波
```



### 2、分别考虑不同的编码方式和调制方式实现二进制数据传输并调制接收

#### 实现不同的编码方式

首先构建信源和矩阵成波，这里信号设置为**二进制传输**：

```matlab
binSignal = [0, 1, 0, 0, 1, 1, 0];
dpSignal = real(dpskmod(binSignal, 2));
```

然后分别实现单极性、双极性、差分码等三种编码方式：

```matlab
% 单极性
s_NRZ = rectpulse(binSignal, Nsam);
% 双极性
d_NRZ = s_NRZ * 2 - 1;
% 差分码
dp_NRZ = rectpulse(dpSignal, Nsam);
```

将编码方式可视化如下：

![image-20240616113208130](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240616113208130.png)

#### 实现不同的调制方式

##### 2ask

通过`ammod`函数对单极性波形进行**幅移键控（ ASK）**调制，函数使用指定的载波频率和采样频率将输入信号 `s_NRZ` 调制到载波上。然后再通过`amdemod`函数通过检测调制信号的幅度变化来恢复原始信号。（由于这里假设没有噪声，所以没有设置信道和噪声，而是直接解调）

```matlab
ask = ammod(s_NRZ,fc,fs);
d_ask = amdemod(ask,fc,fs);
```

调制的过程可以理解为将信号 `s_NRZ` 乘以载波 `cos(2 * pi * fc * t)`，使得信号的幅度随 `s_NRZ` 的变化而变化。调制和解调波形如下：

![image-20240616203214907](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240616203214907.png)

理想情况下ASK解调波形能较好地还原原始波形。根据图像可以看出ASK解调波形能够较好地追随原波形的变化。但是会存在一些小的失真，比如在原波形突变的时刻，解调波形中存在较小的斜率，没有很好地拟合突变的情况，而且边缘会有较大的抖动。但整体趋势与原波形是一致的。

#### 2fsk

首先定义频率偏移量为2，频率偏移量反映了调制过程中频率的变化幅度。然后调用 `fmmod` 函数对单极性波形进行fsk调制，并使用 `fmdemod` 函数对调制信号进行解调，恢复原始信号。

```matlab
freqdev = 2;
fsk = fmmod(s_NRZ,fc,fs,freqdev);
d_fsk = fmdemod(fsk,fc,fs,freqdev);
```

在FSK调制中，当输入信号 `s_NRZ` 为高电平（1）时，载波频率增加 `freqdev`；当输入信号为低电平（0）时，载波频率减少 `freqdev`，调制和解调波形如下：

![image-20240616203623337](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240616203623337.png)

调制波形中当原波形是高电平时频率较高；当原波形是低电平时频率较低。而解调波形中可以看到比ask的要更还原原波形，信号增加或者减少的曲线更加接近于原波形突变的情况，效果更好。

#### 2psk

首先定义相位偏移量``phasedev`，这个值反应调制过程中相位的变化幅度。然后使用 `pmmod` 函数指定载波频率、采样频率和相位偏移量对信号进行**相移键控（psk）调制**，通过改变载波相位来传输信息。然后再直接通过 `pmdemod` 函数对调制信号进行解调，恢复原始信号。

```matlab
phasedev = pi/2;
psk = pmmod(s_NRZ,fc,fs,phasedev);
d_psk = pmdemod(psk,fc,fs,phasedev);
```

输入信号 `s_NRZ` 为高电平时，载波相位会增加 `phasedev`；当输入信号为低电平时，载波相位不变或减少 `phasedev`。调制后的信号 `psk` 会在不同的相位之间切换。调制和解调波形如下：

![image-20240616210915285](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240616210915285.png)

#### 2dpsk

使用`dpskmod`函数进行**差分相移键控（DPSK）**调制。`dpskmod`函数只需传入需要调制的原始波形信号以及调制阶数即可，由于这次实验中进行调制的信号是二进制信号，所以调制阶数设置为2：

```
dpsk = pskmod(s_NRZ, 2);
d_dpsk = pskdemod(dpsk, 2);
```

调制和解调波形如下：

![image-20240616213211679](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240616213211679.png)

可以看到dpsk的